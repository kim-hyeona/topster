<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOPSTER : curious about your preference</title>
    <link rel="stylesheet" href="./index.css">
    <link rel="shortcut icon" href="./img/favicon .ico" type="image/x-icon">    
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
    <main>
    <h1>TOPSTER</h1>
        <form>
            <div class="form_box1">
            <div>
                <label class="title">제목입력 : <input name="title"  type="text" id="title"></label>
                <button class="title_btn" type="submit">입력</button>
            </div>
            <div>
                <label class="frame_num">가로: <input type="number" min='1' max='4'></label>
                <label class="frame_num">세로: <input type="number" min='1' max='4'></label>
                <br>
                <label for="chk" class="frame">프레임: </label>
                <input name="color" value="black" class="radio_black" id="chk" type="radio">
                <input name="color" value="pink" class="radio_pink" id="chk" type="radio">
                <input name="color" value="skyblue" class="radio_skyblue" id="chk" type="radio">
                <input name="color" value="gray" class="radio_gray" id="chk" type="radio">
                <input name="color" value="green" class="radio_green" id="chk" type="radio">
            </div>
        </div>

        <div class="form_box2">
            <br>
            <label class="search_bar">아티스트의 활동명 / 앨범명 / 음원이름을 검색해주세요 <br>
            <input type="text"></label> <button class="search_btn" type="submit">검색</button>
            <br>
            <div class="search">
                <ul></ul>
            </div>
        </div>
        </form>
        <button id="download-btn">다운로드</button>
    <section id="capture">
        <h2 class="title"></h2>
            <article>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
                <div></div>
            </article>
        </section>
        
        
         </main>
        <script>
             const getTopsterElement = async (element) => {
                const canvas = await html2canvas(element);

                return canvas;
            };

            const download = (canvas, filename) => {
                const link = document.createElement('a');

                link.download = filename;
                link.href = canvas.toDataURL();
                link.click();
            };

            document.querySelector('#download-btn').addEventListener('click', async () => {
                const target = document.querySelector('#capture');
                const canvas = await getTopsterElement(target);

                download(canvas, 'screenshot.png');
            });

            
        </script>
        <script src="./index.js"></script>
</body>
</html>
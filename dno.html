<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <title>async.. await.. ex1</title>
</head>

<body>
  <div id="result"></div>

  <script>
    const result = document.querySelector('#result');
    const URL = 'https://ws.audioscrobbler.com/2.0/?method=album.search&album=believe&api_key=7108708792074ac473a8d262368a6c78&format=json';

    // photos 데이터 중 랜덤으로 title과 url 출력
    // title명의 글자 출력 수 10자리까지만

    (async () => {
      const res = await fetch(URL);
      const pics = await res.json();

      userPics(pics);
    })();

    function userPics(pics) {
      const random = Math.trunc(Math.random() * 100);
      result.innerHTML = `
          <h3>${pics[random].image(0)}</h3>
          <img src=${pics[random].thumbnailUrl} alt=${pics[random].title}>
      `;
    }
  </script>
</body>

</html>